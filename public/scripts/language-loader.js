(()=>{"use strict";let t={defaultLanguage:"english",languagePath:"languages/",fallbackText:"Loading..."},e=null,a=!1;async function l(l=t.defaultLanguage){try{let n=await fetch(`${t.languagePath}${l}.json`);if(!n.ok)throw Error(`Failed to load language file: ${n.status}`);return e=await n.json(),a=!0,e}catch(r){return console.error("Error loading language:",r),{meta:{title:"Stagify.ai",description:"AI Home Staging Tool"},navigation:{home:"Home",whyUs:"Why Us?",faq:"FAQ",contactUs:"Contact Us"},hero:{catchphrase:"Upload. Stage. Imagine."},errors:{processingFailed:"Processing failed"}}}}function n(a,l=t.fallbackText){if(!e)return l;let n=a.split("."),r=e;for(let i of n){if(!r||"object"!=typeof r||!(i in r))return l;r=r[i]}return void 0!==r?r:l}function r(){if(!a)return;let e=document.querySelectorAll("[data-lang]");e.forEach(e=>{let a=e.getAttribute("data-lang"),l=n(a);l!==t.fallbackText&&("INPUT"===e.tagName&&"text"===e.type?e.placeholder=l:"TEXTAREA"===e.tagName?e.placeholder=l:e.textContent=l)});let l=document.querySelectorAll("[data-lang-html]");l.forEach(e=>{let a=e.getAttribute("data-lang-html"),l=n(a);l!==t.fallbackText&&(e.innerHTML=l)});let r=document.querySelectorAll("[data-lang-attr]");r.forEach(e=>{let a=e.getAttribute("data-lang-attr"),[l,r]=a.split("|"),i=n(l);i!==t.fallbackText&&e.setAttribute(r,i)}),i(),o(),document.body.classList.add("language-loaded")}function i(){if(!a)return;let e=n("meta.title");e!==t.fallbackText&&(document.title=e);let l=n("meta.description");if(l!==t.fallbackText){let r=document.querySelector('meta[name="description"]');r&&r.setAttribute("content",l)}let i=n("meta.keywords");if(i!==t.fallbackText){let o=document.querySelector('meta[name="keywords"]');o&&o.setAttribute("content",i)}}function o(){if(!a)return;let e=document.querySelector('script[type="application/ld+json"]');if(e)try{let l=JSON.parse(e.textContent),r=n("meta.title"),i=n("meta.description"),o=n("meta.keywords");r!==t.fallbackText&&(l.name=r),i!==t.fallbackText&&(l.description=i),o!==t.fallbackText&&(l.keywords=o),e.textContent=JSON.stringify(l)}catch(s){console.error("Error updating structured data:",s)}}async function s(){let e=localStorage.getItem("selectedLanguage")||t.defaultLanguage;await l(e),r(),c();let a=new MutationObserver(t=>{let e=!1;t.forEach(t=>{"childList"===t.type&&t.addedNodes.length>0&&t.addedNodes.forEach(t=>{if(t.nodeType===Node.ELEMENT_NODE&&(t.hasAttribute&&(t.hasAttribute("data-lang")||t.hasAttribute("data-lang-html")||t.hasAttribute("data-lang-attr"))&&(e=!0),t.querySelectorAll)){let a=t.querySelectorAll("[data-lang], [data-lang-html], [data-lang-attr]");a.length>0&&(e=!0)}})}),e&&r()});a.observe(document.body,{childList:!0,subtree:!0})}function c(){let t=document.getElementById("language-select");if(!t)return;let e=localStorage.getItem("selectedLanguage")||"english";t.value=e,d(t),t.addEventListener("change",async t=>{let e=t.target.value;localStorage.setItem("selectedLanguage",e),d(t.target),await l(e),r()})}function d(t){t.classList.remove("spanish","chinese"),"spanish"===t.value?t.classList.add("spanish"):"chinese"===t.value&&t.classList.add("chinese")}window.LanguageSystem={loadLanguage:l,getText:n,applyLanguageToElements:r,isLoaded:()=>a,getCurrentLanguage:()=>e},"loading"===document.readyState?document.addEventListener("DOMContentLoaded",s):s()})();