class Carousel{constructor(t,i={}){this.container=t,this.options={baseWidth:300,autoplay:!0,autoplayDelay:3e3,pauseOnHover:!0,loop:!0,round:!1,dragBuffer:0,velocityThreshold:500,gap:16,...i},this.currentIndex=0,this.isHovered=!1,this.isResetting=!1,this.autoplayTimer=null,this.dragStartX=0,this.dragEndX=0,this.isDragging=!1,this.init()}init(){this.createCarousel(),this.setupEventListeners(),this.updateSlidePosition(),this.startAutoplay()}createCarousel(){let t=this.options.baseWidth-32,i=t+this.options.gap;this.container.innerHTML=`
  <div class="carousel-track" style="width: ${t}px; gap: ${this.options.gap}px;">
    ${this.options.items.map((i,e)=>`
      <div class="carousel-item" style="width: ${t}px; height: 100%;">
        <div class="carousel-item-image">
          ${i.image||'<div class="carousel-image-placeholder"></div>'}
        </div>
        <div class="carousel-item-overlay">
          <div class="carousel-item-title">${i.title}</div>
        </div>
      </div>
    `).join("")}
  </div>
  <div class="carousel-indicators-container">
    <div class="carousel-indicators">
      ${this.options.items.map((t,i)=>`
        <div class="carousel-indicator ${0===i?"active":"inactive"}" data-index="${i}"></div>
      `).join("")}
    </div>
  </div>
  <div class="carousel-note">Example preview â€” upload your photo to stage</div>
`,this.track=this.container.querySelector(".carousel-track"),this.items=this.container.querySelectorAll(".carousel-item"),this.indicators=this.container.querySelectorAll(".carousel-indicator"),this.itemWidth=t,this.trackItemOffset=i}setupEventListeners(){this.track.addEventListener("mousedown",this.handleDragStart.bind(this)),this.track.addEventListener("mousemove",this.handleDragMove.bind(this)),this.track.addEventListener("mouseup",this.handleDragEnd.bind(this)),this.track.addEventListener("mouseleave",this.handleDragEnd.bind(this)),this.track.addEventListener("touchstart",this.handleTouchStart.bind(this)),this.track.addEventListener("touchmove",this.handleTouchMove.bind(this)),this.track.addEventListener("touchend",this.handleTouchEnd.bind(this)),this.options.pauseOnHover&&(this.container.addEventListener("mouseenter",()=>{this.isHovered=!0,this.stopAutoplay()}),this.container.addEventListener("mouseleave",()=>{this.isHovered=!1,this.startAutoplay()})),this.indicators.forEach((t,i)=>{t.addEventListener("click",()=>{this.goToSlide(i)})}),this.track.addEventListener("dragstart",t=>t.preventDefault())}handleDragStart(t){this.isDragging=!0,this.dragStartX=t.clientX,this.stopAutoplay(),this.track.style.transition="none"}handleDragMove(t){if(!this.isDragging)return;t.preventDefault();let i=t.clientX-this.dragStartX,e=-this.currentIndex*this.trackItemOffset,s=window.innerWidth<=768?6:0;this.track.style.transform=`translateX(${e+i+s}px)`}handleDragEnd(t){this.isDragging&&(this.isDragging=!1,this.dragEndX=t.clientX,this.track.style.transition="",this.handleDrag(),this.startAutoplay())}handleTouchStart(t){this.isDragging=!0,this.dragStartX=t.touches[0].clientX,this.stopAutoplay(),this.track.style.transition="none"}handleTouchMove(t){if(!this.isDragging)return;let i=t.touches[0].clientX-this.dragStartX,e=-this.currentIndex*this.trackItemOffset,s=window.innerWidth<=768?6:0;this.track.style.transform=`translateX(${e+i+s}px)`}handleTouchEnd(t){this.isDragging&&(this.isDragging=!1,this.dragEndX=t.changedTouches[0].clientX,this.track.style.transition="",this.handleDrag(),this.startAutoplay())}handleDrag(){let t=this.dragStartX-this.dragEndX,i=Math.abs(t);t>this.options.dragBuffer||i>this.options.velocityThreshold?this.nextSlide():t<-this.options.dragBuffer||i>this.options.velocityThreshold?this.prevSlide():this.updateSlidePosition()}goToSlide(t){this.currentIndex=t,this.updateSlidePosition(),this.updateIndicators(),this.stopAutoplay(),this.startAutoplay()}nextSlide(){this.options.loop?this.currentIndex=(this.currentIndex+1)%this.options.items.length:this.currentIndex=Math.min(this.currentIndex+1,this.options.items.length-1),this.updateSlidePosition(),this.updateIndicators()}prevSlide(){this.options.loop?this.currentIndex=(this.currentIndex-1+this.options.items.length)%this.options.items.length:this.currentIndex=Math.max(this.currentIndex-1,0),this.updateSlidePosition(),this.updateIndicators()}updateSlidePosition(){let t=-this.currentIndex*this.trackItemOffset,i=window.innerWidth<=768?6:0;this.track.style.transform=`translateX(${t+i}px)`}updateIndicators(){this.indicators.forEach((t,i)=>{t.classList.toggle("active",i===this.currentIndex),t.classList.toggle("inactive",i!==this.currentIndex)})}startAutoplay(){this.options.autoplay&&!this.isHovered&&(this.stopAutoplay(),this.autoplayTimer=setInterval(()=>{this.nextSlide()},this.options.autoplayDelay))}stopAutoplay(){this.autoplayTimer&&(clearInterval(this.autoplayTimer),this.autoplayTimer=null)}destroy(){this.stopAutoplay()}}document.addEventListener("DOMContentLoaded",()=>{let t=document.querySelector(".carousel-container");if(t){let i=[{title:"Original",description:"The original empty room before staging",image:'<img src="media-webp/example/Original.webp" alt="Original staging" style="width: 100%; height: 100%; object-fit: cover;" fetchpriority="high">'},{title:"Modern",description:"Clean lines and contemporary furniture",image:'<img src="media-webp/example/Modern.webp" alt="Modern staging" style="width: 100%; height: 100%; object-fit: cover;">'},{title:"Scandinavian",description:"Minimalist design with natural materials",image:'<img src="media-webp/example/Scandinavian.webp" alt="Scandinavian staging" style="width: 100%; height: 100%; object-fit: cover;">'},{title:"Luxury",description:"High-end finishes and elegant furnishings",image:'<img src="media-webp/example/Luxury.webp" alt="Luxury staging" style="width: 100%; height: 100%; object-fit: cover;">'},{title:"Coastal",description:"Beach-inspired colors and relaxed vibes",image:'<img src="media-webp/example/Coastal.webp" alt="Coastal staging" style="width: 100%; height: 100%; object-fit: cover;">'},{title:"Midcentury",description:"Retro design with bold colors and shapes",image:'<img src="media-webp/example/Midcentury.webp" alt="Midcentury staging" style="width: 100%; height: 100%; object-fit: cover;">'},{title:"Farmhouse",description:"Rustic charm with vintage elements",image:'<img src="media-webp/example/Farmhouse.webp" alt="Farmhouse staging" style="width: 100%; height: 100%; object-fit: cover;">'}];new Carousel(t,{items:i,baseWidth:t.offsetWidth||400,autoplay:!0,autoplayDelay:3e3,pauseOnHover:!0,loop:!0,round:!1,gap:21})}});